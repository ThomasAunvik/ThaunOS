/// Classic 8×8 PC BIOS bitmap font (Code Page 437, printable ASCII subset).
///
/// Each glyph is 8 bytes; each byte is one row (MSB = leftmost pixel).
/// Characters 32–126 are defined; everything else maps to a solid block.

const GLYPH_HEIGHT: usize = 8;
const GLYPH_COUNT: usize = 95; // chars 32..=126

/// Raw glyph data for characters 32 (' ') through 126 ('~').
#[rustfmt::skip]
static FONT_DATA: [[u8; GLYPH_HEIGHT]; GLYPH_COUNT] = [
    // 32  ' '
    [0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00],
    // 33  '!'
    [0x18, 0x3c, 0x3c, 0x18, 0x18, 0x00, 0x18, 0x00],
    // 34  '"'
    [0x6c, 0x6c, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00],
    // 35  '#'
    [0x6c, 0x6c, 0xfe, 0x6c, 0xfe, 0x6c, 0x6c, 0x00],
    // 36  '$'
    [0x18, 0x3e, 0x60, 0x3c, 0x06, 0x7c, 0x18, 0x00],
    // 37  '%'
    [0x00, 0xc6, 0xcc, 0x18, 0x30, 0x66, 0xc6, 0x00],
    // 38  '&'
    [0x38, 0x6c, 0x38, 0x76, 0xdc, 0xcc, 0x76, 0x00],
    // 39  '''
    [0x18, 0x18, 0x30, 0x00, 0x00, 0x00, 0x00, 0x00],
    // 40  '('
    [0x0c, 0x18, 0x30, 0x30, 0x30, 0x18, 0x0c, 0x00],
    // 41  ')'
    [0x30, 0x18, 0x0c, 0x0c, 0x0c, 0x18, 0x30, 0x00],
    // 42  '*'
    [0x00, 0x66, 0x3c, 0xff, 0x3c, 0x66, 0x00, 0x00],
    // 43  '+'
    [0x00, 0x18, 0x18, 0x7e, 0x18, 0x18, 0x00, 0x00],
    // 44  ','
    [0x00, 0x00, 0x00, 0x00, 0x00, 0x18, 0x18, 0x30],
    // 45  '-'
    [0x00, 0x00, 0x00, 0x7e, 0x00, 0x00, 0x00, 0x00],
    // 46  '.'
    [0x00, 0x00, 0x00, 0x00, 0x00, 0x18, 0x18, 0x00],
    // 47  '/'
    [0x06, 0x0c, 0x18, 0x30, 0x60, 0xc0, 0x80, 0x00],
    // 48  '0'
    [0x7c, 0xc6, 0xce, 0xde, 0xf6, 0xe6, 0x7c, 0x00],
    // 49  '1'
    [0x18, 0x38, 0x18, 0x18, 0x18, 0x18, 0x7e, 0x00],
    // 50  '2'
    [0x3c, 0x66, 0x06, 0x1c, 0x30, 0x66, 0x7e, 0x00],
    // 51  '3'
    [0x3c, 0x66, 0x06, 0x1c, 0x06, 0x66, 0x3c, 0x00],
    // 52  '4'
    [0x0c, 0x1c, 0x3c, 0x6c, 0x7e, 0x0c, 0x0c, 0x00],
    // 53  '5'
    [0x7e, 0x60, 0x7c, 0x06, 0x06, 0x66, 0x3c, 0x00],
    // 54  '6'
    [0x1c, 0x30, 0x60, 0x7c, 0x66, 0x66, 0x3c, 0x00],
    // 55  '7'
    [0x7e, 0x06, 0x0c, 0x18, 0x30, 0x30, 0x30, 0x00],
    // 56  '8'
    [0x3c, 0x66, 0x66, 0x3c, 0x66, 0x66, 0x3c, 0x00],
    // 57  '9'
    [0x3c, 0x66, 0x66, 0x3e, 0x06, 0x0c, 0x38, 0x00],
    // 58  ':'
    [0x00, 0x18, 0x18, 0x00, 0x18, 0x18, 0x00, 0x00],
    // 59  ';'
    [0x00, 0x18, 0x18, 0x00, 0x18, 0x18, 0x30, 0x00],
    // 60  '<'
    [0x0c, 0x18, 0x30, 0x60, 0x30, 0x18, 0x0c, 0x00],
    // 61  '='
    [0x00, 0x00, 0x7e, 0x00, 0x7e, 0x00, 0x00, 0x00],
    // 62  '>'
    [0x30, 0x18, 0x0c, 0x06, 0x0c, 0x18, 0x30, 0x00],
    // 63  '?'
    [0x3c, 0x66, 0x06, 0x0c, 0x18, 0x00, 0x18, 0x00],
    // 64  '@'
    [0x7c, 0xc6, 0xde, 0xde, 0xde, 0xc0, 0x7c, 0x00],
    // 65  'A'
    [0x18, 0x3c, 0x66, 0x66, 0x7e, 0x66, 0x66, 0x00],
    // 66  'B'
    [0x7c, 0x66, 0x66, 0x7c, 0x66, 0x66, 0x7c, 0x00],
    // 67  'C'
    [0x3c, 0x66, 0xc0, 0xc0, 0xc0, 0x66, 0x3c, 0x00],
    // 68  'D'
    [0x78, 0x6c, 0x66, 0x66, 0x66, 0x6c, 0x78, 0x00],
    // 69  'E'
    [0x7e, 0x60, 0x60, 0x78, 0x60, 0x60, 0x7e, 0x00],
    // 70  'F'
    [0x7e, 0x60, 0x60, 0x78, 0x60, 0x60, 0x60, 0x00],
    // 71  'G'
    [0x3c, 0x66, 0xc0, 0xce, 0x66, 0x66, 0x3e, 0x00],
    // 72  'H'
    [0x66, 0x66, 0x66, 0x7e, 0x66, 0x66, 0x66, 0x00],
    // 73  'I'
    [0x3c, 0x18, 0x18, 0x18, 0x18, 0x18, 0x3c, 0x00],
    // 74  'J'
    [0x06, 0x06, 0x06, 0x06, 0x06, 0x66, 0x3c, 0x00],
    // 75  'K'
    [0x66, 0x6c, 0x78, 0x70, 0x78, 0x6c, 0x66, 0x00],
    // 76  'L'
    [0x60, 0x60, 0x60, 0x60, 0x60, 0x60, 0x7e, 0x00],
    // 77  'M'
    [0xc6, 0xee, 0xfe, 0xfe, 0xd6, 0xc6, 0xc6, 0x00],
    // 78  'N'
    [0xc6, 0xe6, 0xf6, 0xde, 0xce, 0xc6, 0xc6, 0x00],
    // 79  'O'
    [0x3c, 0x66, 0x66, 0x66, 0x66, 0x66, 0x3c, 0x00],
    // 80  'P'
    [0x7c, 0x66, 0x66, 0x7c, 0x60, 0x60, 0x60, 0x00],
    // 81  'Q'
    [0x3c, 0x66, 0x66, 0x66, 0x6a, 0x6c, 0x36, 0x00],
    // 82  'R'
    [0x7c, 0x66, 0x66, 0x7c, 0x6c, 0x66, 0x66, 0x00],
    // 83  'S'
    [0x3c, 0x66, 0x60, 0x3c, 0x06, 0x66, 0x3c, 0x00],
    // 84  'T'
    [0x7e, 0x18, 0x18, 0x18, 0x18, 0x18, 0x18, 0x00],
    // 85  'U'
    [0x66, 0x66, 0x66, 0x66, 0x66, 0x66, 0x3c, 0x00],
    // 86  'V'
    [0x66, 0x66, 0x66, 0x66, 0x66, 0x3c, 0x18, 0x00],
    // 87  'W'
    [0xc6, 0xc6, 0xc6, 0xd6, 0xfe, 0xee, 0xc6, 0x00],
    // 88  'X'
    [0x66, 0x66, 0x3c, 0x18, 0x3c, 0x66, 0x66, 0x00],
    // 89  'Y'
    [0x66, 0x66, 0x66, 0x3c, 0x18, 0x18, 0x18, 0x00],
    // 90  'Z'
    [0x7e, 0x06, 0x0c, 0x18, 0x30, 0x60, 0x7e, 0x00],
    // 91  '['
    [0x3c, 0x30, 0x30, 0x30, 0x30, 0x30, 0x3c, 0x00],
    // 92  '\'
    [0xc0, 0x60, 0x30, 0x18, 0x0c, 0x06, 0x02, 0x00],
    // 93  ']'
    [0x3c, 0x0c, 0x0c, 0x0c, 0x0c, 0x0c, 0x3c, 0x00],
    // 94  '^'
    [0x10, 0x38, 0x6c, 0xc6, 0x00, 0x00, 0x00, 0x00],
    // 95  '_'
    [0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0xfe],
    // 96  '`'
    [0x30, 0x30, 0x18, 0x00, 0x00, 0x00, 0x00, 0x00],
    // 97  'a'
    [0x00, 0x00, 0x3c, 0x06, 0x3e, 0x66, 0x3e, 0x00],
    // 98  'b'
    [0x60, 0x60, 0x7c, 0x66, 0x66, 0x66, 0x7c, 0x00],
    // 99  'c'
    [0x00, 0x00, 0x3c, 0x66, 0x60, 0x66, 0x3c, 0x00],
    // 100 'd'
    [0x06, 0x06, 0x3e, 0x66, 0x66, 0x66, 0x3e, 0x00],
    // 101 'e'
    [0x00, 0x00, 0x3c, 0x66, 0x7e, 0x60, 0x3c, 0x00],
    // 102 'f'
    [0x1c, 0x36, 0x30, 0x7c, 0x30, 0x30, 0x30, 0x00],
    // 103 'g'
    [0x00, 0x00, 0x3e, 0x66, 0x66, 0x3e, 0x06, 0x3c],
    // 104 'h'
    [0x60, 0x60, 0x7c, 0x66, 0x66, 0x66, 0x66, 0x00],
    // 105 'i'
    [0x18, 0x00, 0x38, 0x18, 0x18, 0x18, 0x3c, 0x00],
    // 106 'j'
    [0x06, 0x00, 0x0e, 0x06, 0x06, 0x66, 0x3c, 0x00],
    // 107 'k'
    [0x60, 0x60, 0x66, 0x6c, 0x78, 0x6c, 0x66, 0x00],
    // 108 'l'
    [0x38, 0x18, 0x18, 0x18, 0x18, 0x18, 0x3c, 0x00],
    // 109 'm'
    [0x00, 0x00, 0xec, 0xfe, 0xd6, 0xc6, 0xc6, 0x00],
    // 110 'n'
    [0x00, 0x00, 0x7c, 0x66, 0x66, 0x66, 0x66, 0x00],
    // 111 'o'
    [0x00, 0x00, 0x3c, 0x66, 0x66, 0x66, 0x3c, 0x00],
    // 112 'p'
    [0x00, 0x00, 0x7c, 0x66, 0x66, 0x7c, 0x60, 0x60],
    // 113 'q'
    [0x00, 0x00, 0x3e, 0x66, 0x66, 0x3e, 0x06, 0x06],
    // 114 'r'
    [0x00, 0x00, 0x7c, 0x66, 0x60, 0x60, 0x60, 0x00],
    // 115 's'
    [0x00, 0x00, 0x3e, 0x60, 0x3c, 0x06, 0x7c, 0x00],
    // 116 't'
    [0x30, 0x30, 0x7c, 0x30, 0x30, 0x36, 0x1c, 0x00],
    // 117 'u'
    [0x00, 0x00, 0x66, 0x66, 0x66, 0x66, 0x3e, 0x00],
    // 118 'v'
    [0x00, 0x00, 0x66, 0x66, 0x66, 0x3c, 0x18, 0x00],
    // 119 'w'
    [0x00, 0x00, 0xc6, 0xc6, 0xd6, 0xfe, 0x6c, 0x00],
    // 120 'x'
    [0x00, 0x00, 0x66, 0x3c, 0x18, 0x3c, 0x66, 0x00],
    // 121 'y'
    [0x00, 0x00, 0x66, 0x66, 0x66, 0x3e, 0x06, 0x3c],
    // 122 'z'
    [0x00, 0x00, 0x7e, 0x0c, 0x18, 0x30, 0x7e, 0x00],
    // 123 '{'
    [0x0c, 0x18, 0x18, 0x70, 0x18, 0x18, 0x0c, 0x00],
    // 124 '|'
    [0x18, 0x18, 0x18, 0x00, 0x18, 0x18, 0x18, 0x00],
    // 125 '}'
    [0x30, 0x18, 0x18, 0x0e, 0x18, 0x18, 0x30, 0x00],
    // 126 '~'
    [0x31, 0x6b, 0x46, 0x00, 0x00, 0x00, 0x00, 0x00],
];

/// Fallback glyph for characters outside 32..=126 (solid block).
static FALLBACK: [u8; GLYPH_HEIGHT] = [0xfe, 0xfe, 0xfe, 0xfe, 0xfe, 0xfe, 0xfe, 0x00];

/// Return the 8-byte bitmap for a character.
pub fn get_glyph(c: u8) -> &'static [u8; GLYPH_HEIGHT] {
    if c >= 32 && c <= 126 {
        &FONT_DATA[(c - 32) as usize]
    } else {
        &FALLBACK
    }
}
